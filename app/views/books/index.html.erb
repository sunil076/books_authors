<p id="notice"><%= notice %></p>
<div class="table">
  <%= link_to "Authors", authors_path %>

  <h1>Books</h1>

  <table>
    <thead>
      <tr>
        <th>Book title</th>
        <th>Book price</th>
        <th colspan="1">Author Name</th>
        <th colspan="3">CRUD Operations</th>
      </tr>
    </thead>

    <tbody>
      <% @books.each do |book| %>
        <tr>
          <td><%= book.book_title %></td>
          <td><%= book.book_price %></td>

          <% author_id = book.author_ids %>
          <% author_id.each do |author| %>
          <td><%= Author.find(author).first_name %></td>
          <% end %>

          <td><button class="show"><%= link_to 'Show', book %></button></td>
          <td><button class="edit"><%= link_to 'Edit', edit_book_path(book) %></button></td>
          <td><button class="destroy"><%= link_to 'Destroy', book, method: :delete, data: { confirm: 'Are you sure?' } %></button></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>

  <button class="new"><%= link_to 'New Book', new_book_path %></button>
</div>